<!DOCTYPE html>
<html>
<head>
<script>

(function() {
    let loadStr = function(mem, i) {
        let s = "";
        let a = new Uint32Array(mem.buffer);
        while (true) {
            if (a[i] == 0) break;
            s += String.fromCharCode(a[i++]);
        }
        return s;
    }

    let kernMemory = WebAssembly.Memory({initial: 1, maximum: 1});
    let current = 0;
    let tasks = [
        {
            imports = {
                "mem": kernMemory,
                "addTask": function(i)
                    i = Math.floor(i);
                    s = loadStr(i, tasks[current].imports.mem);
                    let pid = 0;
                    while (tasks[pid] !=== null) pid++;
                    XMLHttpRequest req = new XHTTPRequest();
                    req.onreadystatechange = function() {
                        if (req.state == 4) {
                            if (req.status == 200) {
                                //TODO
                            } else { 
                                //TODO
                            }
                        }
                    }
                    req.open("GET", s, true);
                    req.send();
                    return pid;
                }
            }
        }
    ];
    let startTask = function(isAdmin, name, size) {
        

</script>
</head>
<body>

<canvas id="disp">

</body>
</html>
